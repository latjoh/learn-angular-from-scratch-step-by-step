{"ast":null,"code":"import _defineProperty from \"C:/Users/john.latulippe/lafs-web/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { forkJoin as observableForkJoin } from 'rxjs';\nimport { QuestionsService } from '../services/questions.service';\nimport { CategoriesService } from '../services/categories.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/questions.service\";\nimport * as i2 from \"../services/categories.service\";\nexport let CategoryQuestionsResolver = /*#__PURE__*/(() => {\n  class CategoryQuestionsResolver {\n    constructor(questionsService, categoriesService) {\n      _defineProperty(this, \"questionsService\", void 0);\n      _defineProperty(this, \"categoriesService\", void 0);\n      this.questionsService = questionsService;\n      this.categoriesService = categoriesService;\n    }\n    resolve(route) {\n      return new Promise((resolve, reject) => {\n        //get current category slug form url\n        let category_slug = route.paramMap.get('categorySlug');\n        observableForkJoin(this.categoriesService.getCategoryBySlug(category_slug), this.questionsService.getQuestionsByCategory(category_slug)).subscribe(data => {\n          let breadcrumbs = [{\n            url: '/',\n            label: 'Categories'\n          }, {\n            url: 'questions/about/' + category_slug,\n            label: data[0].title\n          }];\n          return resolve({\n            questions: data[1],\n            category_title: data[0].title,\n            category_slug: category_slug,\n            breadcrumbs: breadcrumbs\n          });\n        }, err => {\n          console.log(err);\n          return resolve(null);\n        });\n      });\n    }\n  }\n  _defineProperty(CategoryQuestionsResolver, \"\\u0275fac\", function CategoryQuestionsResolver_Factory(t) {\n    return new (t || CategoryQuestionsResolver)(i0.ɵɵinject(i1.QuestionsService), i0.ɵɵinject(i2.CategoriesService));\n  });\n  _defineProperty(CategoryQuestionsResolver, \"\\u0275prov\", /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: CategoryQuestionsResolver,\n    factory: CategoryQuestionsResolver.ɵfac\n  }));\n  return CategoryQuestionsResolver;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}